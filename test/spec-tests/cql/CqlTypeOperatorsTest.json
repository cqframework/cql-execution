{"library":{"annotation":[{"type":"CqlToElmInfo","translatorOptions":"","signatureLevel":"None"}],"identifier":{"id":"CqlTypeOperatorsTest","version":"1.4.0"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"annotation":[],"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"annotation":[],"localIdentifier":"QUICK","uri":"http://hl7.org/fhir/us/qicore","version":"3.3.0"}]},"contexts":{"def":[{"annotation":[],"name":"Patient"}]},"statements":{"def":[{"type":"ExpressionDef","annotation":[],"expression":{"type":"SingletonFrom","annotation":[],"signature":[],"operand":{"type":"Retrieve","annotation":[],"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[],"dataType":"{http://hl7.org/fhir/us/qicore}Patient","templateId":"http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient"}},"name":"Patient","context":"Patient"},{"type":"ExpressionDef","annotation":[],"expression":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"As","annotation":[],"signature":[],"operand":{"type":"Quantity","annotation":[],"value":45.5,"unit":"g"},"asTypeSpecifier":{"type":"NamedTypeSpecifier","annotation":[],"name":"{urn:hl7-org:elm-types:r1}Quantity"},"strict":false},"name":"expression"},{"value":{"type":"Quantity","annotation":[],"value":45.5,"unit":"g"},"name":"output"}]},"name":"AsQuantity"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"As","annotation":[],"signature":[],"operand":{"type":"Quantity","annotation":[],"value":45.5,"unit":"g"},"asTypeSpecifier":{"type":"NamedTypeSpecifier","annotation":[],"name":"{urn:hl7-org:elm-types:r1}Quantity"},"strict":true},"name":"expression"},{"value":{"type":"Quantity","annotation":[],"value":45.5,"unit":"g"},"name":"output"}]},"name":"CastAsQuantity"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"As","annotation":[],"signature":[],"operand":{"type":"DateTime","annotation":[],"signature":[],"year":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"2014"},"month":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"01"},"day":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"01"}},"asTypeSpecifier":{"type":"NamedTypeSpecifier","annotation":[],"name":"{urn:hl7-org:elm-types:r1}DateTime"},"strict":false},"name":"expression"},{"value":{"type":"DateTime","annotation":[],"signature":[],"year":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"2014"},"month":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1"},"day":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1"}},"name":"output"}]},"name":"AsDateTime"}]},"name":"As","context":"Patient","accessLevel":"Public"},{"type":"ExpressionDef","annotation":[],"expression":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToDecimal","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"5"}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Decimal","value":"5.0"},"name":"output"}]},"name":"IntegerToDecimal"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToString","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"5"}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"5"},"name":"output"}]},"name":"IntegerToString"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToInteger","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"foo"}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Boolean","value":"true"},"name":"invalid"}]},"name":"StringToIntegerError"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"Answer does not include timezone offset, but default offset depends on test environment"},"name":"skipped"}]},"name":"StringToDateTime"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToTime","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"T14:30:00.0"}},"name":"expression"},{"value":{"type":"Time","annotation":[],"signature":[],"hour":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"14"},"minute":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"30"},"second":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0"},"millisecond":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0"}},"name":"output"}]},"name":"StringToTime"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToDateTime","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"2014/01/01"}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Boolean","value":"true"},"name":"invalid"}]},"name":"StringToDateTimeMalformed"}]},"name":"Convert","context":"Patient","accessLevel":"Public"},{"type":"ExpressionDef","annotation":[],"expression":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Is","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"5"},"isTypeSpecifier":{"type":"NamedTypeSpecifier","annotation":[],"name":"{urn:hl7-org:elm-types:r1}Integer"}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Boolean","value":"true"},"name":"output"}]},"name":"IntegerIsInteger"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Is","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"5"},"isTypeSpecifier":{"type":"NamedTypeSpecifier","annotation":[],"name":"{urn:hl7-org:elm-types:r1}Integer"}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Boolean","value":"false"},"name":"output"}]},"name":"StringIsInteger"}]},"name":"Is","context":"Patient","accessLevel":"Public"},{"type":"ExpressionDef","annotation":[],"expression":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToBoolean","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"NO"}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Boolean","value":"false"},"name":"output"}]},"name":"StringNoToBoolean"}]},"name":"ToBoolean","context":"Patient","accessLevel":"Public"},{"type":"ExpressionDef","annotation":[],"expression":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToConcept","annotation":[],"signature":[],"operand":{"type":"Instance","annotation":[],"element":[{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"8480-6"},"name":"code"}],"classType":"{urn:hl7-org:elm-types:r1}Code"}},"name":"expression"},{"value":{"type":"Instance","annotation":[],"element":[{"value":{"type":"ToList","annotation":[],"signature":[],"operand":{"type":"Instance","annotation":[],"element":[{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"8480-6"},"name":"code"}],"classType":"{urn:hl7-org:elm-types:r1}Code"}},"name":"codes"}],"classType":"{urn:hl7-org:elm-types:r1}Concept"},"name":"output"}]},"name":"CodeToConcept1"}]},"name":"ToConcept","context":"Patient","accessLevel":"Public"},{"type":"ExpressionDef","annotation":[],"expression":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"Answer does not include timezone offset, but default offset depends on test environment"},"name":"skipped"}]},"name":"ToDateTime1"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"Answer does not include timezone offset, but default offset depends on test environment"},"name":"skipped"}]},"name":"ToDateTime2"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"Answer does not include timezone offset, but default offset depends on test environment"},"name":"skipped"}]},"name":"ToDateTime3"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"@2014-01-01T12:05:05.955+01:30 Parsed with offset 1 (should be 1.5)"},"name":"skipped"}]},"name":"ToDateTime4"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"@2014-01-01T12:05:05.955-01:15 Parsed with offset -1 (should be -1.25)"},"name":"skipped"}]},"name":"ToDateTime5"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToDateTime","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"2014-01-01T12:05:05.955Z"}},"name":"expression"},{"value":{"type":"DateTime","annotation":[],"signature":[],"year":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"2014"},"month":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1"},"day":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1"},"hour":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"12"},"minute":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"5"},"second":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"5"},"millisecond":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"955"},"timezoneOffset":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Decimal","value":"0.0"}},"name":"output"}]},"name":"ToDateTime6"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToDateTime","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"2014/01/01T12:05:05.955Z"}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Boolean","value":"true"},"name":"invalid"}]},"name":"ToDateTimeMalformed"}]},"name":"ToDateTime","context":"Patient","accessLevel":"Public"},{"type":"ExpressionDef","annotation":[],"expression":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToDecimal","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"+25.5"}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Decimal","value":"25.5"},"name":"output"}]},"name":"String25D5ToDecimal"}]},"name":"ToDecimal","context":"Patient","accessLevel":"Public"},{"type":"ExpressionDef","annotation":[],"expression":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToInteger","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"-25"}},"name":"expression"},{"value":{"type":"Negate","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"25"}},"name":"output"}]},"name":"StringNeg25ToInteger"}]},"name":"ToInteger","context":"Patient","accessLevel":"Public"},{"type":"ExpressionDef","annotation":[],"expression":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToQuantity","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"5.5 'cm'"}},"name":"expression"},{"value":{"type":"Quantity","annotation":[],"value":5.5,"unit":"cm"},"name":"output"}]},"name":"String5D5CMToQuantity"}]},"name":"ToQuantity","context":"Patient","accessLevel":"Public"},{"type":"ExpressionDef","annotation":[],"expression":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToString","annotation":[],"signature":[],"operand":{"type":"Negate","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"5"}}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"-5"},"name":"output"}]},"name":"IntegerNeg5ToString"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToString","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Decimal","value":"18.55"}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"18.55"},"name":"output"}]},"name":"Decimal18D55ToString"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToString","annotation":[],"signature":[],"operand":{"type":"Quantity","annotation":[],"value":5.5,"unit":"cm"}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"5.5 'cm'"},"name":"output"}]},"name":"Quantity5D5CMToString"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToString","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Boolean","value":"true"}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"true"},"name":"output"}]},"name":"BooleanTrueToString"}]},"name":"ToString","context":"Patient","accessLevel":"Public"},{"type":"ExpressionDef","annotation":[],"expression":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToTime","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"T14:30:00.0"}},"name":"expression"},{"value":{"type":"Time","annotation":[],"signature":[],"hour":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"14"},"minute":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"30"},"second":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0"},"millisecond":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0"}},"name":"output"}]},"name":"ToTime1"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToTime","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"T14:30:00.0+05:30"}},"name":"expression"},{"value":{"type":"Time","annotation":[],"signature":[],"hour":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"14"},"minute":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"30"},"second":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0"},"millisecond":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0"}},"name":"output"}]},"name":"ToTime2"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToTime","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"T14:30:00.0-05:45"}},"name":"expression"},{"value":{"type":"Time","annotation":[],"signature":[],"hour":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"14"},"minute":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"30"},"second":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0"},"millisecond":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0"}},"name":"output"}]},"name":"ToTime3"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToTime","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"T14:30:00.0Z"}},"name":"expression"},{"value":{"type":"Time","annotation":[],"signature":[],"hour":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"14"},"minute":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"30"},"second":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0"},"millisecond":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0"}},"name":"output"}]},"name":"ToTime4"},{"value":{"type":"Tuple","annotation":[],"element":[{"value":{"type":"ToTime","annotation":[],"signature":[],"operand":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}String","value":"T14-30-00.0"}},"name":"expression"},{"value":{"type":"Literal","annotation":[],"valueType":"{urn:hl7-org:elm-types:r1}Boolean","value":"true"},"name":"invalid"}]},"name":"ToTimeMalformed"}]},"name":"ToTime","context":"Patient","accessLevel":"Public"}]}}}

